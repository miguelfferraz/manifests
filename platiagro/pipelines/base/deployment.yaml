apiVersion: apps/v1beta2
kind: Deployment
metadata:
  name: pipelines
spec:
  selector:
    matchLabels:
      app: pipelines
  template:
    metadata:
      labels:
        app: pipelines
    spec:
      containers:
        - image: platiagro/pipelines:0.1.0
          name: pipelines
          env:
            - name: KF_PIPELINES_ENDPOINT
              value: ml-pipeline.kubeflow:8888
            - name: MINIO_ENDPOINT
              value: "minio-service.kubeflow:9000"
            - name: MINIO_ACCESS_KEY
              value: "minio"
            - name: MINIO_SECRET_KEY
              value: "minio123"
          ports:
            - containerPort: 8080
      serviceAccountName: pipelines
